---
#------------------------------------------------------------------------
# CHECK TO SEE IF PANORAMA WOULD ALLOW ME TO CREATE A SECURITY OBJECT
#------------------------------------------------------------------------
- hosts: FW
  connection: local
  gather_facts: False
  become: False
  collections:
    - paloaltonetworks.panos
    - ansible.utils

  tasks:
    - name: "Validate that Panorama would allow us to create an object, check mode"
      panos_address_object:
        provider:
          ip_address: "{{ 10.10.10.233 }}"
          username: "{{ Gobi }}"
          api_key: "{{ LUFRPT1rNlA3bGhBWkRjeFhQZXpNNmVtY1JWLzhHTWc9YzFFRjZsQXhlaEJkN3B6aEdqelZ3YnBsTHFJVjdsMlNXOW9SY1VvYkVrNkdlNmRSQjdQL0tKUStQVFk2amNHbQ== }}"
        name: "Gaming-PC"
        address_type: "fqdn"
        value: "gaming.redtail.com"
        description: "Gaming PC"
      check_mode: yes
      register: result

    - name: "Print result to the console"
      debug:
        msg: "{{ result }}"
